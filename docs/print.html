<!DOCTYPE HTML>
<html lang="cn" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>网络游戏开发运维实操手册</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="游戏服务器架构、游戏服务器运维、游戏开发工具、游戏AI、NavMesh、A*、MMO、Slots">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="简介.html">简介</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">开发篇</li><li class="chapter-item expanded "><a href="开发篇/MMORPG项目.html"><strong aria-hidden="true">1.</strong> MMORPG项目</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="开发篇/MMORPG项目/简介.html"><strong aria-hidden="true">1.1.</strong> 简介</a></li><li class="chapter-item expanded "><a href="开发篇/MMORPG项目/服务器架构.html"><strong aria-hidden="true">1.2.</strong> 服务器架构</a></li><li class="chapter-item expanded "><a href="开发篇/MMORPG项目/核心模块.html"><strong aria-hidden="true">1.3.</strong> 核心模块</a></li><li class="chapter-item expanded "><a href="开发篇/MMORPG项目/压测客户端.html"><strong aria-hidden="true">1.4.</strong> 压测客户端</a></li></ol></li><li class="chapter-item expanded "><a href="开发篇/Slots项目.html"><strong aria-hidden="true">2.</strong> Slots项目</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="开发篇/Slots项目/简介.html"><strong aria-hidden="true">2.1.</strong> 简介</a></li><li class="chapter-item expanded "><a href="开发篇/Slots项目/服务器架构.html"><strong aria-hidden="true">2.2.</strong> 服务器架构</a></li><li class="chapter-item expanded "><a href="开发篇/Slots项目/核心模块.html"><strong aria-hidden="true">2.3.</strong> 核心模块</a></li><li class="chapter-item expanded "><a href="开发篇/Slots项目/压测客户端.html"><strong aria-hidden="true">2.4.</strong> 压测客户端</a></li><li class="chapter-item expanded "><a href="工具篇/Slots数值分析工具.html"><strong aria-hidden="true">2.5.</strong> Slots数值分析工具</a></li></ol></li><li class="chapter-item expanded "><a href="开发篇/游戏AI.html"><strong aria-hidden="true">3.</strong> 游戏AI</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="开发篇/游戏AI/状态机.html"><strong aria-hidden="true">3.1.</strong> 状态机</a></li><li class="chapter-item expanded "><a href="开发篇/游戏AI/行为树.html"><strong aria-hidden="true">3.2.</strong> 行为树</a></li></ol></li><li class="chapter-item expanded "><a href="开发篇/寻路系统.html"><strong aria-hidden="true">4.</strong> 寻路系统</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="开发篇/寻路系统/A星算法.html"><strong aria-hidden="true">4.1.</strong> A*算法</a></li><li class="chapter-item expanded "><a href="开发篇/寻路系统/NavMesh网格.html"><strong aria-hidden="true">4.2.</strong> NavMesh网格</a></li><li class="chapter-item expanded "><a href="开发篇/寻路系统/服务器寻路图形工具.html"><strong aria-hidden="true">4.3.</strong> 服务器寻路图形工具</a></li></ol></li><li class="chapter-item expanded "><a href="开发篇/Excel导表.html"><strong aria-hidden="true">5.</strong> Excel导表</a></li><li class="chapter-item expanded "><a href="开发篇/压力测试.html"><strong aria-hidden="true">6.</strong> 压力测试</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="开发篇/压力测试/Http压测.html"><strong aria-hidden="true">6.1.</strong> Http压测</a></li><li class="chapter-item expanded "><a href="开发篇/压力测试/Tcp压测.html"><strong aria-hidden="true">6.2.</strong> Tcp压测</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">运维篇</li><li class="chapter-item expanded "><a href="运维篇/Linux.html"><strong aria-hidden="true">7.</strong> Linux</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="运维篇/Linux/CentOS命令参考.html"><strong aria-hidden="true">7.1.</strong> CentOS命令参考</a></li><li class="chapter-item expanded "><a href="运维篇/Linux/CentOS软件安装.html"><strong aria-hidden="true">7.2.</strong> CentOS软件安装</a></li><li class="chapter-item expanded "><a href="运维篇/Linux/CentOS环境配置.html"><strong aria-hidden="true">7.3.</strong> CentOS环境配置</a></li></ol></li><li class="chapter-item expanded "><a href="运维篇/开发工具.html"><strong aria-hidden="true">8.</strong> 开发工具</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="运维篇/开发工具/Git.html"><strong aria-hidden="true">8.1.</strong> Git</a></li><li class="chapter-item expanded "><a href="运维篇/开发工具/Gitlab.html"><strong aria-hidden="true">8.2.</strong> Gitlab</a></li><li class="chapter-item expanded "><a href="运维篇/开发工具/Maven.html"><strong aria-hidden="true">8.3.</strong> Maven</a></li><li class="chapter-item expanded "><a href="运维篇/开发工具/Nexus.html"><strong aria-hidden="true">8.4.</strong> Nexus</a></li></ol></li><li class="chapter-item expanded "><a href="运维篇/项目部署.html"><strong aria-hidden="true">9.</strong> 项目部署</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="运维篇/项目部署/Docker.html"><strong aria-hidden="true">9.1.</strong> Docker</a></li><li class="chapter-item expanded "><a href="运维篇/项目部署/Jenkins.html"><strong aria-hidden="true">9.2.</strong> Jenkins</a></li></ol></li><li class="chapter-item expanded "><a href="运维篇/数据库.html"><strong aria-hidden="true">10.</strong> 数据库</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="运维篇/数据库/MongoDB.html"><strong aria-hidden="true">10.1.</strong> MongoDB</a></li><li class="chapter-item expanded "><a href="运维篇/数据库/Redis.html"><strong aria-hidden="true">10.2.</strong> Redis</a></li></ol></li><li class="chapter-item expanded "><a href="运维篇/监控系统.html"><strong aria-hidden="true">11.</strong> 监控系统</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="运维篇/监控系统/Grafana.html"><strong aria-hidden="true">11.1.</strong> Grafana</a></li><li class="chapter-item expanded "><a href="运维篇/监控系统/InfluxDB.html"><strong aria-hidden="true">11.2.</strong> InfluxDB</a></li><li class="chapter-item expanded "><a href="运维篇/监控系统/Skywalking.html"><strong aria-hidden="true">11.3.</strong> Skywalking</a></li></ol></li><li class="chapter-item expanded "><a href="运维篇/日志系统.html"><strong aria-hidden="true">12.</strong> 日志系统</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="运维篇/日志系统/Elasticsearch.html"><strong aria-hidden="true">12.1.</strong> Elasticsearch</a></li></ol></li><li class="chapter-item expanded "><a href="运维篇/诊断工具.html"><strong aria-hidden="true">13.</strong> 诊断工具</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="运维篇/诊断工具/Arthas.html"><strong aria-hidden="true">13.1.</strong> Arthas</a></li></ol></li><li class="chapter-item expanded "><a href="运维篇/三方组件.html"><strong aria-hidden="true">14.</strong> 三方组件</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="运维篇/三方组件/Nginx.html"><strong aria-hidden="true">14.1.</strong> Nginx</a></li><li class="chapter-item expanded "><a href="运维篇/三方组件/Zookeeper.html"><strong aria-hidden="true">14.2.</strong> Zookeeper</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">网络游戏开发运维实操手册</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/jzyong/GameDevAndOps" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="简介"><a class="header" href="#简介">简介</a></h1>
<p>  结合自身工作经历写的网络游戏服务器开发相关技术，服务器运维部署相关技术。
编写目的主要是进行服务器技术总结、分享、备忘、指令快速查找。全书总共分为开发篇、运维篇两个部分。
项目开发语言主要是Java，部分项目为Go，C#，同时涉及Shell脚本，Unity等相关技术。
本书不过多介绍理论知识，更多的是介绍实际项目中使用到的技术，框架，常用命令备忘等，相关技术会贴出官方文档或参考文档地址。</p>
<h2 id="开发篇"><a class="header" href="#开发篇">开发篇</a></h2>
<p>  前两章介绍在实际开发中的两个游戏项目，架构和使用的相关技术，MMORPG项目采用分区分服架构，slots项目采用全区全服架构。
第三章介绍服务器端开发RPG游戏AI技术；第四章介绍如何将Unity中的NavMesh+A*寻路算法运用于服务器；第五章介绍excel导表工具；第六章介绍服务器压测集群。</p>
<ul>
<li><a href="%E5%BC%80%E5%8F%91%E7%AF%87/MMORPG%E9%A1%B9%E7%9B%AE.html">MMORPG项目</a></li>
<li><a href="%E5%BC%80%E5%8F%91%E7%AF%87/Slots%E9%A1%B9%E7%9B%AE.html">Slots项目</a></li>
<li><a href="%E5%BC%80%E5%8F%91%E7%AF%87/%E6%B8%B8%E6%88%8FAI.html">游戏AI</a></li>
<li><a href="%E5%BC%80%E5%8F%91%E7%AF%87/%E5%AF%BB%E8%B7%AF%E7%B3%BB%E7%BB%9F.html">寻路系统</a></li>
<li><a href="%E5%BC%80%E5%8F%91%E7%AF%87/Excel%E5%AF%BC%E8%A1%A8.html">Excel导表</a></li>
<li><a href="%E5%BC%80%E5%8F%91%E7%AF%87/%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95.html">压力测试</a></li>
</ul>
<h2 id="运维篇"><a class="header" href="#运维篇">运维篇</a></h2>
<p>   第一章介绍生产环境Linux参数调优，各种软件安装，环境配置；第二章介绍开发中使用的工具部署，使用；第三章介绍项目的CI/CD;第四章介绍数据库的部署，维护，常用指令；
第五章介绍服务器、进程服务的监控与预警；第六章介绍分布式日志系统的搭建与问题排查；第七章介绍线上运行程序的诊断，问题排查处理；第八章介绍一些其他常用组件的部署运维。</p>
<ul>
<li><a href="%E8%BF%90%E7%BB%B4%E7%AF%87/Linux.html">Linux</a></li>
<li><a href="%E8%BF%90%E7%BB%B4%E7%AF%87/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7.html">开发工具</a></li>
<li><a href="%E8%BF%90%E7%BB%B4%E7%AF%87/%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2.html">项目部署</a></li>
<li><a href="%E8%BF%90%E7%BB%B4%E7%AF%87/%E6%95%B0%E6%8D%AE%E5%BA%93.html">数据库</a></li>
<li><a href="%E8%BF%90%E7%BB%B4%E7%AF%87/%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F.html">监控系统</a></li>
<li><a href="%E8%BF%90%E7%BB%B4%E7%AF%87/%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F.html">日志系统</a></li>
<li><a href="%E8%BF%90%E7%BB%B4%E7%AF%87/%E8%AF%8A%E6%96%AD%E5%B7%A5%E5%85%B7.html">诊断工具</a></li>
<li><a href="%E8%BF%90%E7%BB%B4%E7%AF%87/%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6.html">三方组件</a></li>
</ul>
<p>技术交流学习359135103@qq.com</p>
<div style="break-before: page; page-break-before: always;"></div><p>水电费</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="简介-1"><a class="header" href="#简介-1">简介</a></h2>
<p>  阴阳界是一款修仙类MMORPG手游，服务器架构采用分区分服架构搭建，客户端采用Unity开发。服务开发技术主要是Java，单服务器线上实跑真实玩家2000+，机器人压测实跑5000+。</p>
<h3 id="技术选型"><a class="header" href="#技术选型">技术选型</a></h3>
<div style="break-before: page; page-break-before: always;"></div><h2 id="架构"><a class="header" href="#架构">架构</a></h2>
<h3 id="登录服"><a class="header" href="#登录服">登录服</a></h3>
<h3 id="网关服"><a class="header" href="#网关服">网关服</a></h3>
<h3 id="游戏服"><a class="header" href="#游戏服">游戏服</a></h3>
<h3 id="世界服"><a class="header" href="#世界服">世界服</a></h3>
<h3 id="日志服"><a class="header" href="#日志服">日志服</a></h3>
<div style="break-before: page; page-break-before: always;"></div><h3 id="线程模型"><a class="header" href="#线程模型">线程模型</a></h3>
<h3 id="地图设计"><a class="header" href="#地图设计">地图设计</a></h3>
<h3 id="视野管理"><a class="header" href="#视野管理">视野管理</a></h3>
<pre><code>    九宫格
</code></pre>
<h3 id="npc-ai"><a class="header" href="#npc-ai">NPC AI</a></h3>
<h3 id="npc-寻路"><a class="header" href="#npc-寻路">NPC 寻路</a></h3>
<h3 id="断线重连"><a class="header" href="#断线重连">断线重连</a></h3>
<h3 id="属性设计"><a class="header" href="#属性设计">属性设计</a></h3>
<h3 id="热更新"><a class="header" href="#热更新">热更新</a></h3>
<h3 id="排队系统"><a class="header" href="#排队系统">排队系统</a></h3>
<div style="break-before: page; page-break-before: always;"></div><p>s</p>
<div style="break-before: page; page-break-before: always;"></div><p>水电费</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="简介-2"><a class="header" href="#简介-2">简介</a></h1>
<h2 id="技术选型-1"><a class="header" href="#技术选型-1">技术选型</a></h2>
<h2 id="项目规范"><a class="header" href="#项目规范">项目规范</a></h2>
<div style="break-before: page; page-break-before: always;"></div><h1 id="服务器架构"><a class="header" href="#服务器架构">服务器架构</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="核心模块"><a class="header" href="#核心模块">核心模块</a></h1>
<h2 id="googleapple充值"><a class="header" href="#googleapple充值">Google、Apple充值</a></h2>
<div style="break-before: page; page-break-before: always;"></div><h1 id="压测客户端"><a class="header" href="#压测客户端">压测客户端</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="slots数值分析工具"><a class="header" href="#slots数值分析工具">Slots数值分析工具</a></h1>
<div style="break-before: page; page-break-before: always;"></div><p>水电费</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="状态机"><a class="header" href="#状态机">状态机</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="行为树"><a class="header" href="#行为树">行为树</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="寻路系统"><a class="header" href="#寻路系统">寻路系统</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="a算法"><a class="header" href="#a算法">A*算法</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="navmesh网格"><a class="header" href="#navmesh网格">NavMesh网格</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="服务器寻路图形工具"><a class="header" href="#服务器寻路图形工具">服务器寻路图形工具</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="excel导表"><a class="header" href="#excel导表">Excel导表</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="压力测试"><a class="header" href="#压力测试">压力测试</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="http压测"><a class="header" href="#http压测">Http压测</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tcp压测"><a class="header" href="#tcp压测">Tcp压测</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="linux"><a class="header" href="#linux">Linux</a></h1>
<p>  本章节主要记录基于CentosOS 7常用指令；
开发和生产环境中Linux的常用软件安装维护；
生产环境中网络，防火墙，时间等的环境调优配置。
三个小节如下：</p>
<ul>
<li><a href="%E8%BF%90%E7%BB%B4%E7%AF%87/Linux/CentOS%E5%91%BD%E4%BB%A4%E5%8F%82%E8%80%83.html">CentOS命令参考</a></li>
<li><a href="%E8%BF%90%E7%BB%B4%E7%AF%87/Linux/CentOS%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85.html">CentOS软件安装</a></li>
<li><a href="%E8%BF%90%E7%BB%B4%E7%AF%87/Linux/CentOS%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE.html">CentOS环境配置</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="centos命令参考"><a class="header" href="#centos命令参考">CentOS命令参考</a></h1>
<p>  主要记录常用的系统命令使用及CentOS7中的安装使用。</p>
<h2 id="系统资源"><a class="header" href="#系统资源">系统资源</a></h2>
<p>  磁盘、CPU、内存、IO等常见命令使用。
游戏服务器程序可能出现死循环，定时器泄露等占用CPU；未正常释放对象占用过多的内存或者内存一直飙升等问题；
存储数据，网路请求太多，消耗IO过高等问题；日志输出太多，没有正常删除照成磁盘占满等问题。</p>
<h3 id="top命令"><a class="header" href="#top命令">top命令</a></h3>
<p>  top命令经常用来监控linux的系统状况，常用的性能分析工具，能够实时显示系统中各个进程的各种资源占用情况。
<a href="https://blog.csdn.net/yjclsx/article/details/81508455">参考地址</a> ：<a href="https://blog.csdn.net/yjclsx/article/details/81508455">https://blog.csdn.net/yjclsx/article/details/81508455</a>。进入top界面安如下安静可安需求显示。</p>
<ul>
<li>1：展开每个CPU的信息</li>
<li>P：以CPU的使用资源排序显示 </li>
<li>M：以内存的使用资源排序显示 </li>
<li>N：以pid排序显示 </li>
<li>T：由进程使用的时间累计排序显示</li>
</ul>
<pre><code class="language-shell script"># 1.查看指定进程 内存，cpu等信息
top -p 2913

# 2.查看进程详细信息，具体条目说明参考 https://blog.csdn.net/weixin_40584007/article/details/88847745  
cat /proc/1308/status
</code></pre>
<h3 id="dstat命令"><a class="header" href="#dstat命令">dstat命令</a></h3>
<p>  多功能系统资源统计生成工具 ( versatile tool for generating system resource statistics), 
可提供包含 <code>top、free、iostat、ifstat、vmstat</code>等多个工具的功能。详细使用可参考:<a href="https://www.cnblogs.com/shoufeng/p/9739805.html">https://www.cnblogs.com/shoufeng/p/9739805.html</a></p>
<pre><code class="language-shell script"># 1.安装
yum -y install dstat

# 2.查看
dstat
</code></pre>
<h3 id="iostat"><a class="header" href="#iostat">iostat</a></h3>
<p>  统计CPU和IO信息，详细使用可参考：<a href="https://www.cnblogs.com/architectforest/p/12628399.html">https://www.cnblogs.com/architectforest/p/12628399.html</a></p>
<pre><code class="language-shell script"># 1.查看
iostat -xmt 1
</code></pre>
<h3 id="ps命令"><a class="header" href="#ps命令">ps命令</a></h3>
<p>  查看具体进程相关信。</p>
<pre><code class="language-shell script"># 1.查询进程id
ps -ef | grep game-hall | awk '{print &quot;kill &quot;$2}'
</code></pre>
<h2 id="文件操作"><a class="header" href="#文件操作">文件操作</a></h2>
<p>  常用地文件上传，下载，打包，日志查看操作等。游戏服务器出现bug，有时候为了方便查看日志，需要将大的日志文件进行压缩打包，然后下载到本地进行操作。</p>
<h3 id="resz上传下载命令"><a class="header" href="#resz上传下载命令">re|sz上传下载命令</a></h3>
<p>  可在Xshell中快速上传，下载文件。</p>
<pre><code class="language-shell script"># 1.安装
yum -y install lrzsz

# 2.上传
rz

# 3.下载
sz [文件名]
</code></pre>
<h3 id="tar解压缩"><a class="header" href="#tar解压缩">tar解压缩</a></h3>
<pre><code class="language-shell script"># 1.打包压缩目录
tar -czvf game_hall_20201209.tar.gz game_hall_20201209121360/
</code></pre>
<h3 id="目录文件操作"><a class="header" href="#目录文件操作">目录文件操作</a></h3>
<pre><code class="language-shell script"># 1.删除backups目录30天之前修改的文件
find backups/ -mtime +30 -delete
</code></pre>
<h3 id="系统日志"><a class="header" href="#系统日志">系统日志</a></h3>
<p>  系统日志文件含义：</p>
<ul>
<li><code>/var/log/message</code> 系统启动后的信息和错误日志，是Red Hat Linux中最常用的日志之一</li>
<li><code>/var/log/secure</code> 与安全相关的日志信息</li>
<li><code>/var/log/maillog</code> 与邮件相关的日志信息</li>
<li><code>/var/log/cron</code> 与定时任务相关的日志信息</li>
<li><code>/var/log/spooler</code> 与UUCP和news设备相关的日志信息</li>
<li><code>/var/log/boot.log</code> 守护进程启动和停止相关的日志消息</li>
</ul>
<pre><code class="language-shell script"># 1.显示所有日志：
journalctl

# 2.查看最后10条日志
journalctl -n 10

# 3.跟踪日志：
journalctl -f

# 4只显示冲突、告警和错误
journalctl -p err..alert
</code></pre>
<h2 id="网络操作"><a class="header" href="#网络操作">网络操作</a></h2>
<p>  新服务器部署过程中需要查看两台服务器直接网络是否联通需要用<code>ping</code>命令；
检测网络端口是否开放，能否访问通需要使用<code>telent</code>命令；
在主机上下载安装包通常需要<code>wget</code>命令；
经常需要调用http请求进行后台管理操作需要使用<code>curl</code>命令。</p>
<h3 id="telnet"><a class="header" href="#telnet">Telnet</a></h3>
<pre><code class="language-shell script"># 1.检查是否安装
rpm -qa | grep telnet

# 2.查看yum列表
yum list | grep telnet

# 3.安装
yum install -y telnet-server.x86_64
yum install -y telnet.x86_64

# 4.执行
telnet 192.168.1.11 80
</code></pre>
<h3 id="wget"><a class="header" href="#wget">wget</a></h3>
<pre><code class="language-shell script"># 1.安装
yum -y install wget
</code></pre>
<h3 id="curl"><a class="header" href="#curl">curl</a></h3>
<pre><code class="language-shell script"># 1.安装
yum -y install curl
</code></pre>
<h3 id="16-wireshark"><a class="header" href="#16-wireshark">16. wireshark</a></h3>
<p>  监听服务器、客户端指定端口是否收到远端的消息包。用于网络消息包的分析。官方文档：<a href="https://www.wireshark.org/docs/wsug_html_chunked/index.html">https://www.wireshark.org/docs/wsug_html_chunked/index.html</a></p>
<pre><code class="language-shell script"># 1.安装
yum install wireshark wireshark-qt

# 2.服务器获取网络包
# 2.1.创建文件&amp;添加权限
touch packet.txt
chmod o+x packet.txt

# 2.2.查看网络接口
tshark -D

# 2.3.记录
tshark -w packet.txt -i eth0 -q

# 2.4.控制台查看指定端口(非常消耗内存)
tshark -i eth0 -Y &quot;tcp.port == 4019&quot;
tshark -i ens5 -Y &quot;tcp.port == 7050&quot;
</code></pre>
<h3 id="firewall-cmd"><a class="header" href="#firewall-cmd">firewall-cmd</a></h3>
<pre><code class="language-shell script"># 1.查看防火墙所有开放的端口
firewall-cmd --zone=public --list-ports
firewall-cmd --list-all
  
# 2.开放端口
firewall-cmd --zone=public --add-port=27017/tcp --permanent

# 3.生效
firewall-cmd --reload

# 4.防火墙开关，状态查看
systemctl stop firewalld
systemctl start firewalld
systemctl status firewalld
</code></pre>
<h3 id="netstat"><a class="header" href="#netstat">netstat</a></h3>
<p>  压测时可使用该命令查看网络连接是否正常创建，释放。</p>
<pre><code class="language-shell script">
# 1.查看端口
netstat -lnpt
 
# 2.查看指定端口
netstat -lnpt |grep 5672

# 3.网络状态统计信息
netstat -an | awk '/^tcp/ {++y[$NF]} END {for(w in y) print w, y[w]}'

# 4.连接数
netstat -an |grep ESTABLISHED |wc -l

# 5.每个ip连接数
netstat -nat|grep &quot;tcp&quot;|awk ' {print$5}'|awk -F : '{print$1}'|sort|uniq -c|sort -rn

# 6.每个ip ESTABLISHED连接数
netstat -nat|grep ESTABLISHED|awk '{print$5}'|awk -F : '{print$1}'|sort|uniq -c|sort -rn

# 7.查看指定端口的连接信息
netstat -an | grep 7050
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="centos软件安装"><a class="header" href="#centos软件安装">CentOS软件安装</a></h1>
<p>  一些常用软件安装，配置。</p>
<h3 id="jdk安装"><a class="header" href="#jdk安装">JDK安装</a></h3>
<p>  JDK安装可参考下面连接，生产环境使用docker运行程序，因此可跳过安装JDK。</p>
<ul>
<li><a href="https://www.cnblogs.com/wandoupeas/p/centos_jdk_install.html">JDK8</a>：<a href="https://www.cnblogs.com/wandoupeas/p/centos_jdk_install.html">https://www.cnblogs.com/wandoupeas/p/centos_jdk_install.html</a></li>
<li><a href="https://www.cnblogs.com/biem/p/13307438.html">JDK11</a>：<a href="https://www.cnblogs.com/biem/p/13307438.html">https://www.cnblogs.com/biem/p/13307438.html</a></li>
</ul>
<h3 id="vim安装"><a class="header" href="#vim安装">vim安装</a></h3>
<pre><code class="language-shell script"># 1.安装
yum -y install vim*
</code></pre>
<h3 id="tree安装"><a class="header" href="#tree安装">tree安装</a></h3>
<p>  展示目录的树形结构。</p>
<pre><code class="language-shell script"># 1.安装
yum install tree -y

# 2.展示目录
tree /data/game
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="centos环境配置"><a class="header" href="#centos环境配置">CentOS环境配置</a></h1>
<p>  本节主机介绍生产环境中linux内核调优，网络连接设置；时间设置，服务器部署在国外，还需要考虑时区的配置。</p>
<h3 id="网络连接数限制设置"><a class="header" href="#网络连接数限制设置">网络连接数限制设置</a></h3>
<h4 id="ulimit--n"><a class="header" href="#ulimit--n">ulimit -n</a></h4>
<p>参考文档：<a href="https://blog.csdn.net/hunhun1122/article/details/79391147">https://blog.csdn.net/hunhun1122/article/details/79391147</a></p>
<pre><code class="language-shell script"># 1.修改连接数，重启后生效
vim /etc/security/limits.conf
    * soft nofile 204800
    * hard nofile 204800
    * soft nproc 204800
    * hard nproc 204800
# 2.分别新建下面两个文件，并加入 如下内容
vim /etc/security/limits.d/90-nproc.conf 
    * soft nproc 204800  
    * hard nproc 204800  
vim /etc/security/limits.d/def.conf
    * soft nofile 204800  
    * hard nofile 204800  
 
# 3.临时设置连接数
ulimit -n 204800
</code></pre>
<h4 id="netcoresomaxconn"><a class="header" href="#netcoresomaxconn">net.core.somaxconn</a></h4>
<p>参考文档：<a href="https://www.cnblogs.com/my-show-time/p/15206020.html">https://www.cnblogs.com/my-show-time/p/15206020.html</a></p>
<pre><code class="language-shell script"># 1.查看参数
sysctl -a | grep net.core.somaxconn
# 2.设置 ，在末尾添加
vim /etc/sysctl.conf
    net.core.somaxconn=32768
sysctl -p
# 3.查看
sysctl -a | grep net.core.somaxconn
</code></pre>
<h3 id="网络超时设置"><a class="header" href="#网络超时设置">网络超时设置</a></h3>
<p>参考文档：<a href="https://docs.mongodb.com/v3.6/faq/diagnostics/#adjusting-the-tcp-keepalive-value">https://docs.mongodb.com/v3.6/faq/diagnostics/#adjusting-the-tcp-keepalive-value</a></p>
<pre><code class="language-shell script"># 1.使网络超时设置10分钟，超时后检测3次，每次30秒
vim /etc/sysctl.conf
    net.ipv4.tcp_keepalive_time=600
    net.ipv4.tcp_keepalive_intvl=30
    net.ipv4.tcp_keepalive_probes=3
sysctl -p
sysctl -a | grep keepalive
</code></pre>
<h3 id="常用网络设置"><a class="header" href="#常用网络设置">常用网络设置</a></h3>
<p>参考文档：<a href="https://help.aliyun.com/document_detail/41334.html">https://help.aliyun.com/document_detail/41334.html</a></p>
<pre><code class="language-shell script">#表示当keepalive起用的时候，TCP发送keepalive消息的频度。缺省是2小时，
net.ipv4.tcp_keepalive_time=600
net.ipv4.tcp_keepalive_intvl=30
net.ipv4.tcp_keepalive_probes=3

#web应用中listen函数的backlog默认会给我们内核参数的net.core.somaxconn限制到128，而nginx定义的NGX_LISTEN_BACKLOG默认为511，所以有必要调整这个值
net.core.somaxconn=32688

#表示开启SYN Cookies。当出现SYN等待队列溢出时，启用cookies来处理，可防范少量SYN攻击，默认为0，表示关闭  
net.ipv4.tcp_syncookies = 1  

#表示开启重用。允许将TIME-WAIT sockets重新用于新的TCP连接，默认为0，表示关闭  
net.ipv4.tcp_tw_reuse = 1  

#表示开启TCP连接中TIME-WAIT sockets的快速回收，默认为0，表示关闭  
net.ipv4.tcp_tw_recycle = 1

#表示如果套接字由本端要求关闭，这个参数决定了它保持在FIN-WAIT-2状态的时间  
net.ipv4.tcp_fin_timeout=30

#表示SYN队列的长度，默认为1024，加大队列长度为8192，可以容纳更多等待连接的网络连接数。
net.ipv4.tcp_max_syn_backlog = 8192

#表示系统同时保持TIME_WAIT套接字的最大数量，如果超过这个数字，TIME_WAIT套接字将立刻被清除并打印警告信息。
#默认为180000，改为5000。对于Apache、Nginx等服务器，上几行的参数可以很好地减少TIME_WAIT套接字数量，但是对于 Squid，效果却不大。此项参数可以控制TIME_WAIT套接字的最大数量，避免Squid服务器被大量的TIME_WAIT套接字拖死。
net.ipv4.tcp_max_tw_buckets = 5000

#对外连接端口范围
net.ipv4.ip_local_port_range = 10240 65000
##表示文件句柄的最大数量
fs.file-max = 102400

# 多网卡防止丢包
net.ipv4.conf.all.rp_filter = 0
net.ipv4.conf.default.rp_filter = 0
</code></pre>
<hr />
<h3 id="日期时间设置"><a class="header" href="#日期时间设置">日期时间设置</a></h3>
<p>  服务器部署在国外，使用美国时间会有夏时令问题；之前服务器未同步网络时间，会存在系统时间运行一段时间跑块，导致多台主机时间不一致。因此采用如下配置：</p>
<pre><code class="language-shell script"># 1.查看系统时间
timedatectl status
date

# 2.查看可用时区
timedatectl list-timezones

# 3.设置时区
timedatectl set-timezone America/New_York

# 4.设置时间同步
timedatectl set-ntp yes

# 5.设置硬件时钟为UTC时间
timedatectl set-local-rtc 0

# 6.设置系统读取GST时区，美国纽约涉及到夏时令，会存在时间调快和调慢1小时问题
vi /etc/profile
    export TZ='GST+5'
source /etc/profile
</code></pre>
<p>参考文档：<a href="https://www.cnblogs.com/lei0213/p/8723106.html">https://www.cnblogs.com/lei0213/p/8723106.html</a> </p>
<h3 id="主机名称设置"><a class="header" href="#主机名称设置">主机名称设置</a></h3>
<pre><code class="language-shell script"># 1.查看主机名
uname -n

# 2.修改主机名
hostnamectl set-hostname cd-linux-34
hostnamectl set-hostname audit
</code></pre>
<h3 id="主机登录提示设置"><a class="header" href="#主机登录提示设置">主机登录提示设置</a></h3>
<pre><code class="language-shell script"># 1.登录linux提示主机功能
echo &quot;正式服Gate、Login、Hall服务器...&quot; &gt;/etc/motd
</code></pre>
<h3 id="磁盘挂载"><a class="header" href="#磁盘挂载">磁盘挂载</a></h3>
<p>  下面是测试服磁盘空间不足，单独给jenkins挂载一个磁盘。</p>
<pre><code class="language-shell script"># 1.查看磁盘
df -kh
fdisk -l

# 2.创建挂载目录
cd /mnt/
mkdir jenkins

# 3.挂载，及开机自动挂载
mount /dev/vdb1 /mnt/jenkins/
echo '/dev/vdb1 /mnt/jenkins ext4 defaults 0 0' &gt;&gt; /etc/fstab

# 4.关闭jenkins 移动目录到新位置
mv /var/lib/jenkins/ /mnt/jenkins/

# 5.创建软连接，重启jenkins
ln -s /mnt/jenkins/jenkins /var/lib
service jenkins start
</code></pre>
<h3 id="用户创建及权限设置"><a class="header" href="#用户创建及权限设置">用户创建及权限设置</a></h3>
<p>参考文档：<a href="https://blog.51cto.com/u_14557673/2446952">https://blog.51cto.com/u_14557673/2446952</a></p>
<pre><code class="language-shell script"># 1.创建账号
useradd -M develop
# 2.修改密码
passwd develop
    123456
    123456
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="开发工具"><a class="header" href="#开发工具">开发工具</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git"><a class="header" href="#git">Git</a></h1>
<h3 id="安装"><a class="header" href="#安装">安装</a></h3>
<pre><code class="language-shell script"># 1.安装
yum install -y git

# 2.查看版本
git version
</code></pre>
<h3 id="命令"><a class="header" href="#命令">命令</a></h3>
<pre><code class="language-shell script">
# 1.添加全部&amp;目录
git add .
git add Assets/Scripts

# 2.提交 
git commit -m &quot;初始化提交&quot;

# 3.推送
git push -u origin develop 

# 4.取消提交
git reset @~
</code></pre>
<h2 id="常见问题"><a class="header" href="#常见问题">常见问题</a></h2>
<h3 id="1git-push-remote-fatal-pack-exceeds-maximum-allowed-size"><a class="header" href="#1git-push-remote-fatal-pack-exceeds-maximum-allowed-size">1.Git Push remote: fatal: pack exceeds maximum allowed size</a></h3>
<ul>
<li>取消提交 <code>git reset @~</code>,提交少量文件，再推送</li>
<li>如果使用gitlab，可以到管理后台修改最大推送文件限制</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gitlab"><a class="header" href="#gitlab">Gitlab</a></h1>
<p>   Gitlab是开源的仓库管理系统，在Git基础上添加了Web服务，类似Github，使用非常方便，因此公司内部自行搭建了Gitlab。</p>
<h3 id="gitlab命令"><a class="header" href="#gitlab命令">gitlab命令</a></h3>
<p>参考文档：<a href="https://docs.gitlab.com/ee/administration/raketasks/maintenance.html#check-gitlab-configuration">https://docs.gitlab.com/ee/administration/raketasks/maintenance.html#check-gitlab-configuration</a></p>
<pre><code class="language-shell script"># 1.查看系统信息和gitlab信息
sudo gitlab-rake gitlab:env:info

# 2.检查配置
sudo gitlab-rake gitlab:check

# 3.数据迁移检测
sudo gitlab-rake db:migrate:status
</code></pre>
<h3 id="gitlab升级"><a class="header" href="#gitlab升级">gitlab升级</a></h3>
<p>参考文档：<br />
<a href="https://docs.gitlab.com/ee/update/plan_your_upgrade.html">https://docs.gitlab.com/ee/update/plan_your_upgrade.html</a>
<a href="https://docs.gitlab.com/ee/update/package/">https://docs.gitlab.com/ee/update/package/</a><br />
<a href="https://docs.gitlab.com/ee/update/index.html#upgrade-paths">https://docs.gitlab.com/ee/update/index.html#upgrade-paths</a></p>
<pre><code class="language-shell script"># 1.查看可用版本包
yum --showduplicates list gitlab-ee

# 2.更新到指定版本，gitlab必须一步一步的更新到最新版本，中间版本不能跳过
yum install gitlab-ee-13.8.8-ee.0.el7
yum install gitlab-ee-13.12.15-ee.0.el7
yum install gitlab-ee-14.0.12-ee.0.el7
yum install gitlab-ee-14.6.2-ee.0.el7
</code></pre>
<p>升级错误问题：<br />
安装官方路径 yum install gitlab-ee-14.0.12-ee.0.el7 升级到 yum install gitlab-ee-14.6.2-ee.0.el7 报错<br />
参考文档：<a href="https://docs.gitlab.com/ee/user/admin_area/monitoring/background_migrations.html#database-migrations-failing-because-of-batched-background-migration-not-finished">https://docs.gitlab.com/ee/user/admin_area/monitoring/background_migrations.html#database-migrations-failing-because-of-batched-background-migration-not-finished</a></p>
<pre><code class="language-shell script"># 1.重新加载配置
sudo gitlab-ctl reconfigure

# 2.重新迁移数据库
sudo gitlab-rake db:migrate
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="maven"><a class="header" href="#maven">Maven</a></h1>
<h3 id="maven安装"><a class="header" href="#maven安装">Maven安装</a></h3>
<p>参考文档：<a href="https://blog.csdn.net/djrm11/article/details/106340433">https://blog.csdn.net/djrm11/article/details/106340433</a><br />
setting配置 <a href="%E8%BF%90%E7%BB%B4%E7%AF%87/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/settings.xml">setting.xml</a></p>
<pre><code class="language-shell script"># 1.官网下注包上传到 data目录
tar -xzvf apache-maven-3.6.3-bin.tar.gz
  
# 2.设置环境变量，在profile末尾添加
vi /etc/profile
    MAVEN_HOME=/data/apache-maven-3.6.3
    export PATH=${MAVEN_HOME}/bin:${PATH}
source /etc/profile

# 3.设置jdk版本
cd /data/apache-maven-3.6.3/bin
vim mvn
    JAVA_HOME=/data/java/jdk-14.0.2
    
# 4.修改setting配置
</code></pre>
<h2 id="二nexus3-安装"><a class="header" href="#二nexus3-安装">二、nexus3 安装</a></h2>
<p>参考：https://hub.docker.com/r/sonatype/nexus3/#notes</p>
<pre><code># 1.创建挂载目录
mkdir /data/nexus-data

# 2.运行镜像
docker run -d -p 40016:8081 --name nexus -v /data/nexus-data:/nexus-data sonatype/nexus3
</code></pre>
<h2 id="三常见问题"><a class="header" href="#三常见问题">三、常见问题</a></h2>
<ul>
<li>私有仓库上传snapshot jar包，项目检出snapshot jar类文件找不到问题
参考文档：https://segmentfault.com/a/1190000022068814</li>
</ul>
<ol>
<li>
<p>配置pom.xml 拉取最新jar包</p>
<pre><code>&lt;repositories&gt;
     &lt;repository&gt;
         &lt;id&gt;public&lt;/id&gt;
         &lt;url&gt;http://47.108.13.34:40016/repository/maven-public/&lt;/url&gt;
         &lt;snapshots&gt;
             &lt;!-- 始终下载最新的 snapshot 包 ，因为协议消息在其他项目，时刻改变 --&gt;
             &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;
         &lt;/snapshots&gt;
     &lt;/repository&gt;
 &lt;/repositories&gt;
</code></pre>
</li>
<li>
<p>jar 包运行，pom.xml设置项目打包插件</p>
<plugin>
      <groupId>org.apache.maven.plugins</groupId>
      <artifactId>maven-jar-plugin</artifactId>
      <version>3.2.0</version>
      <configuration>
          <archive>
              <manifest>
                  <addClasspath>true</addClasspath>
                  <classpathPrefix>lib/</classpathPrefix>
                  <mainClass>com.dls.slots.gate.GateApp</mainClass>
                  <!--配置可使用快照版本-->
                  <useUniqueVersions>false</useUniqueVersions>
              </manifest>
          </archive>
      </configuration>
  </plugin>
</li>
</ol>
<ul>
<li>maven setting.xml 镜像配置错误导致拉取不到存在的jar包问题
参考文档： https://segmentfault.com/q/1010000019941502/a-1020000019941560</li>
</ul>
<p>mirrorOf 最开始配置问<code>central</code>，导致上传到snapshot库中的jar包无法下载，改为<code>*</code>问题解决</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nexus"><a class="header" href="#nexus">Nexus</a></h1>
<p>Nexus 搭建公司内部maven私有仓库，便于公司内部包的版本管理，加速获取公共包。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="项目部署"><a class="header" href="#项目部署">项目部署</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="docker"><a class="header" href="#docker">Docker</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jenkins"><a class="header" href="#jenkins">Jenkins</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="数据库"><a class="header" href="#数据库">数据库</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mongodb"><a class="header" href="#mongodb">MongoDB</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="redis"><a class="header" href="#redis">Redis</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="监控系统"><a class="header" href="#监控系统">监控系统</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="grafana"><a class="header" href="#grafana">Grafana</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="influxdb"><a class="header" href="#influxdb">InfluxDB</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="skywalking"><a class="header" href="#skywalking">Skywalking</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="日志系统"><a class="header" href="#日志系统">日志系统</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="elasticsearch"><a class="header" href="#elasticsearch">Elasticsearch</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="诊断工具"><a class="header" href="#诊断工具">诊断工具</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="arthas"><a class="header" href="#arthas">Arthas</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="三方组件"><a class="header" href="#三方组件">三方组件</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nginx"><a class="header" href="#nginx">Nginx</a></h1>
<h3 id="10-nginx安装"><a class="header" href="#10-nginx安装">10. Nginx安装</a></h3>
<p>安装参考：http://nginx.org/en/linux_packages.html
配置路径：<code>/etc/nginx/</code>
<a href="%E8%BF%90%E7%BB%B4%E7%AF%87/%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/nginx/aws/%E6%AD%A3%E5%BC%8F%E6%9C%8Dnginx%E9%85%8D%E7%BD%AE.html">正式服配置</a></p>
<pre><code>//安装前置软件
sudo yum install yum-utils

vim /etc/yum.repos.d/nginx.repo

[nginx-stable]
name=nginx stable repo
baseurl=http://nginx.org/packages/centos/$releasever/$basearch/
gpgcheck=1
enabled=1
gpgkey=https://nginx.org/keys/nginx_signing.key
module_hotfixes=true

[nginx-mainline]
name=nginx mainline repo
baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
gpgcheck=1
enabled=0
gpgkey=https://nginx.org/keys/nginx_signing.key
module_hotfixes=true

# 安装
sudo yum install nginx

# 退出
nginx -s quit
service nginx stop
# 启动
nginx
service nginx start
# 重载配置
nginx -s reload
sudo systemctl reload nginx
# 重启
nginx -c /etc/nginx/nginx.conf
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="zookeeper"><a class="header" href="#zookeeper">Zookeeper</a></h1>
<h3 id="12-zookeeper-安装"><a class="header" href="#12-zookeeper-安装">12. zookeeper 安装</a></h3>
<p>安装参考：https://www.cnblogs.com/zhiyouwu/p/11546097.html</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
